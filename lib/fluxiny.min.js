(function(){var e=function(){return{_stores:[],register:function(e){if(!e||!e.update)throw new Error("You should provide a store that has an `update` method.");var t=[],n=function(){t.forEach(function(t){t(e)})},r=function(n,r){t.push(n),r?null:n(e)};return this._stores.push({store:e,change:n}),r},dispatch:function(e){this._stores.length>0&&this._stores.forEach(function(t){t.store.update(e,t.change)})}}},t={create:function(){var t=e();return{createAction:function(e){if(!e)throw new Error("Please, provide action's type.");return function(n){return t.dispatch({type:e,payload:n})}},createSubscriber:function(e){return t.register(e)}}}};typeof define=="function"&&define.amd?define(function(){return t}):typeof module!="undefined"&&module.exports?module.exports=t:this.Fluxiny=t}).call(this);